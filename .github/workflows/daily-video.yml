name: Daily Religious Video Generator - Multiple Times

on:
  schedule:
    # Ø§Ù„Ø³Ø§Ø¹Ø© 6 ØµØ¨Ø§Ø­Ø§Ù‹ UTC (8 ØµØ¨Ø§Ø­Ø§Ù‹ btoÙ‚ÙŠÙŠ)
    - cron: '0 6 * * *'
    
    # Ø§Ù„Ø³Ø§Ø¹Ø© 12 Ø¸Ù‡Ø±Ø§Ù‹ UTC (2 Ø¸Ù‡Ø±Ø§Ù‹ Ø§Ù„ØªÙˆÙ‚ÙŠÙŠ)
    - cron: '0 12 * * *'
    
    # Ø§Ù„Ø³Ø§Ø¹Ø© Ø¦âƒÙ…Ø³Ø§Ø¡Ù‹ UTC (8 Ù…Ø³Ø§Ø¡Ù‹ Ø§Ù„ØªÙˆÙ‚ÙŠÙŠ)
    - cron: '0 18 * * *'
    
    # Ø§Ù„Ø³Ø§Ø¹Ø© ØªÙ„Ø§Ù„ÙŠÙ‚ÙŠ 10 Ù…Ø³Ø§Ø¡Ù‹ UTC (Ù…Ù†ØªØµÙ Ø§Ù„Ù„ÙŠÙ„ Ø¨ØªÙˆÙ‚Ø§ÙŠÙŠÙŠ)
    - cron: '0 22 * * *'
  
  # ØªØ´ØºÙŠÙ„ ÙŠØ¯ÙˆÙŠ Ù…ØªÙ‰ Ù…Ø§ ØªØ¨ÙŠ
  workflow_dispatch:
    inputs:
      video_topic:
        description: 'Ù…ÙˆØ¶ÙˆØ¹ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ (ÙØ§Ø±Ø¹ = AI ÙŠØ®ØªØ§Ø±)'
        required: false
        default: ''

jobs:
  generate-and-publish-video:
    runs-on: ubuntu-latest
    
    steps:
      - name:  ğŸ¤– ØªÙˆÙ„ÙŠØ¯ ÙˆÙ†Ø´Ø± ÙÙŠØ¯ÙŠÙˆ Ø¯ÙŠÙ†ÙŠ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
        run: |
          echo "Æ¡âˆâˆâˆâˆâˆâˆâˆâˆâˆâˆâˆâˆâˆâˆâˆâˆâˆâˆâˆâˆ"
          echo "ğŸš€ Ø¨Ø¯Ø¡ Ù†Ø¸Ø§Ù… AI Ø§Ù„Ø°ÙƒÙŠ Ù„Ù„ÙÙŠØ¯fŠÙˆÙ‡Ø§Øª Ø§Ù„Ø¯ÙŠÙ†Ø¸ÙŠØ©"
          echo "â° Ø§Ù„ÙˆÙ‚Øº: $(date)"
          echo "âˆ¡âˆ¡âˆ¡âˆ¡âˆ¡âˆ¡âˆ¡âˆ¡âˆ¡âˆ¡âˆ¡âˆ¡âˆ¡âˆ¡âˆ¡âˆ¡âˆ¡âˆ¡âˆ¡âˆ¡"
          
          curl -X POST 'https://backend.composio.dev/api/v1/cli/execute-recipe' \
          -H 'Content-Type: application/json' \
          -d '{
            "recipeId": "rcp_GA3Odr3U5NZ-",
            "input": {
              "video_topic": "${{ github.event.inputs.video_topic || '' }}",
              "report_email": "hamzawatfa25@gmail.com",
              "channel_handle": "@amzawatfa-c3f"
            }
          }'
          
          echo ""
          echo "âœ… ªÙ… ØªÙ†ÙÙŠØ° Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨Ù†Ø¬Ø§Ø­!"
          echo "ğŸ“§ ØªÙÙ‚Ø¯ Ø¨Ø±ÙŠØ¯Ùƒ: hamzawatfa25@gmail.com"
          echo "â€¡â€¡â€¡â€¡â€¡â€¡â€¡â€¡â€¡â€¡â€¡â€¡â€¡â€¡â€¡â€¡â€¡â€¡â€¡â€¡"

      - name: ğŸ“ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù†ØªÙŠØ¬Ø©
        if: always()
        run: |
          echo "ğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ®: $(date)"
          echo "ğŸ‹ Recipe ID: rcp_GA3Odr3U5NZ-"
          echo "ğŸ“º Ø§Ù„Ù‚Ù†Ø§Ø¦: @hamzawatfa-c3f"
          echo "âœï¸ ØªÙ… Ø¨ÙˆØ§Ø³Ø·Ø© AI 100%"
